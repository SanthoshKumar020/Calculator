<div class="container">
  <div class="calculator">
    <div class="input_section">
      <button (click)="History()" id="buttons-icon">
        <mat-icon>history</mat-icon>
      </button>
      <div class="display">
        <form action="" [formGroup]="inputStr">
          <input
            autofocus
            type="text"
            formControlName="text"
            (input)="restrictInput($event)"
            placeholder="0"
          />
        </form>
      </div>
    </div>
    @if (!showHis) {
    <div class="buttons">
      <button (click)="clearDisplay()">C</button>
      <button (click)="buttonClicked($event.target)">( )</button>
      <button (click)="buttonClicked($event.target)">%</button>
      <button (click)="buttonClicked($event.target)">รท</button>
      <button (click)="buttonClicked($event.target)">7</button>
      <button (click)="buttonClicked($event.target)">8</button>
      <button (click)="buttonClicked($event.target)">9</button>
      <button (click)="buttonClicked($event.target)">x</button>
      <button (click)="buttonClicked($event.target)">4</button>
      <button (click)="buttonClicked($event.target)">5</button>
      <button (click)="buttonClicked($event.target)">6</button>
      <button (click)="buttonClicked($event.target)">-</button>
      <button (click)="buttonClicked($event.target)">1</button>
      <button (click)="buttonClicked($event.target)">2</button>
      <button (click)="buttonClicked($event.target)">3</button>
      <button (click)="buttonClicked($event.target)">+</button>
      <button (click)="negate()">+/-</button>
      <button (click)="buttonClicked($event.target)">0</button>
      <button (click)="buttonClicked($event.target)">.</button>
      <button (click)="calculate()">=</button>
    </div>
    }@else {
    <div>
      <div class="dialog-box">
        <div class="all">
          <h2>Calculation History</h2>
          @for (calculation of calculationHistory; track calculation) {
          <div class="history-div">
            <span>{{ calculation }}</span>
          </div>
          }
        </div>
        <div class="button-container">
          <button mat-raised-button color="primary" (click)="clearHistory()">
            Clear
          </button>
          <button mat-raised-button color="primary" (click)="History()">
            Close
          </button>
        </div>
      </div>
    </div>
    }
  </div>
</div>
